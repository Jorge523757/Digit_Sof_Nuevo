<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema DataTables - DigitSoft</title>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/css/jquery.dataTables.min.css">
    <script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/datatables/1.10.21/js/jquery.dataTables.min.js"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.0/js/bootstrap.bundle.min.js"></script>
    
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/apexcharts@3.54.1/dist/apexcharts.min.js"></script>
    
    <style>
        body {
            background-color: #1a1d29;
            color: #ffffff;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            overflow-x: hidden;
        }
        
        .sidebar {
            background-color: #252837;
            min-height: 100vh;
            width: 250px;
            position: fixed;
            left: 0;
            top: 0;
            padding: 20px 0;
            box-shadow: 2px 0 10px rgba(0,0,0,0.3);
            overflow-y: auto;
        }
        
        .sidebar .nav-item {
            margin: 5px 15px;
        }
        
        .sidebar .nav-link {
            color: #9ca3af;
            padding: 12px 20px;
            border-radius: 8px;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .sidebar .nav-link:hover,
        .sidebar .nav-link.active {
            background-color: #3b82f6;
            color: white;
            text-decoration: none;
        }
        
        .sidebar .nav-link i {
            margin-right: 10px;
            width: 20px;
        }
        
        .main-content {
            margin-left: 250px;
            padding: 20px;
        }
        
        .card {
            background-color: #252837;
            border: 1px solid #374151;
            border-radius: 12px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .card-header {
            background-color: #374151;
            border-bottom: 1px solid #4b5563;
            color: white;
            font-weight: 600;
            padding: 15px 20px;
        }
        
        .card-body {
            padding: 20px;
        }
        
        .dataTables_wrapper {
            color: #ffffff;
        }
        
        .dataTables_wrapper .dataTables_filter input,
        .dataTables_wrapper .dataTables_length select {
            background-color: #374151;
            border: 1px solid #4b5563;
            color: white;
            padding: 8px;
            border-radius: 4px;
            margin-left: 10px;
        }
        
        .dataTables_wrapper .dataTables_info,
        .dataTables_wrapper .dataTables_paginate {
            color: #9ca3af;
        }
        
        .dataTables_wrapper .dataTables_paginate .paginate_button {
            background-color: #374151;
            border: 1px solid #4b5563;
            color: white !important;
            margin: 0 2px;
        }
        
        .dataTables_wrapper .dataTables_paginate .paginate_button:hover {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        table.dataTable thead th {
            background-color: #374151;
            color: white;
            border-bottom: 2px solid #4b5563;
            padding: 12px 8px;
        }
        
        table.dataTable tbody tr {
            background-color: #252837;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        table.dataTable tbody tr:hover {
            background-color: #374151;
        }
        
        table.dataTable tbody tr.selected {
            background-color: #3b82f6 !important;
        }
        
        table.dataTable tbody td {
            border-bottom: 1px solid #374151;
            color: #ffffff;
            padding: 10px 8px;
        }
        
        .btn-primary {
            background-color: #3b82f6;
            border-color: #3b82f6;
        }
        
        .btn-success {
            background-color: #10b981;
            border-color: #10b981;
        }
        
        .btn-warning {
            background-color: #f59e0b;
            border-color: #f59e0b;
        }
        
        .btn-danger {
            background-color: #ef4444;
            border-color: #ef4444;
        }
        
        .metric-card {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            border-radius: 12px;
            padding: 20px;
            color: white;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .metric-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .metric-label {
            opacity: 0.8;
            font-size: 0.9rem;
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        .table-actions {
            margin-bottom: 15px;
        }
        
        .badge {
            font-size: 0.8em;
        }
        
        .status-active { background-color: #10b981; }
        .status-inactive { background-color: #ef4444; }
        .status-pending { background-color: #f59e0b; }
        
        .filter-section {
            background-color: #374151;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .filter-section h6 {
            color: #3b82f6;
            margin-bottom: 10px;
        }
        
        #selectedInfo {
            background-color: #374151;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: none;
        }
        
        .modal-content {
            background-color: #252837;
            color: #ffffff;
            border: 1px solid #374151;
        }
        
        .modal-header, .modal-footer {
            border-color: #374151;
        }
        
        .form-control, .form-control:focus {
            background-color: #374151;
            border: 1px solid #4b5563;
            color: white;
        }
        
        .form-control::placeholder {
            color: #9ca3af;
        }

        /* Estilos específicos para ApexCharts */
        .apexcharts-tooltip, .apexcharts-tooltip-series-group {
            background: #252837 !important;
            color: white !important;
            border: 1px solid #374151 !important;
        }
        
        .apexcharts-tooltip-text {
            color: #fff !important;
        }
        
        .apexcharts-legend-text {
            color: #fff !important;
        }
    </style>
</head>
<body>
    <div class="sidebar">
        <div class="p-3 text-center">
            <h3 class="text-white mb-2" style="font-weight: bold; text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">
                <i class="fas fa-microchip text-primary"></i> DigitSoft
            </h3>
            <p class="text-muted mb-4" style="font-size: 0.8rem;">Sistema de Gestión Integral</p>
        </div>
        
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link active" href="#" data-tab="dashboard">
                    <i class="fas fa-tachometer-alt"></i> Dashboard
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="clientes">
                    <i class="fas fa-users"></i> Clientes
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="productos">
                    <i class="fas fa-box"></i> Productos
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="marcas">
                    <i class="fas fa-tags"></i> Marcas
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="proveedores">
                    <i class="fas fa-truck"></i> Proveedores
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="ventas">
                    <i class="fas fa-shopping-cart"></i> Ventas
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="compras">
                    <i class="fas fa-shopping-basket"></i> Compras
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="tecnicos">
                    <i class="fas fa-tools"></i> Técnicos
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="servicios">
                    <i class="fas fa-wrench"></i> Servicios Técnicos
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="equipos">
                    <i class="fas fa-laptop"></i> Equipos
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#" data-tab="facturacion">
                    <i class="fas fa-file-invoice"></i> Facturación
                </a>
            </li>
        </ul>
    </div>
    
    <div class="main-content">
        <div id="dashboard" class="tab-content active">
            <h2 class="mb-4">Dashboard Principal</h2>
            
            <div class="row">
                <div class="col-md-3">
                    <div class="metric-card">
                        <div class="metric-value" id="totalClientes">124</div>
                        <div class="metric-label">Total Clientes</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card" style="background: linear-gradient(135deg, #10b981, #059669);">
                        <div class="metric-value" id="totalProductos">89</div>
                        <div class="metric-label">Total Productos</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card" style="background: linear-gradient(135deg, #f59e0b, #d97706);">
                        <div class="metric-value" id="totalVentas">$45,385</div>
                        <div class="metric-label">Ventas del mes</div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="metric-card" style="background: linear-gradient(135deg, #8b5cf6, #7c3aed);">
                        <div class="metric-value" id="serviciosPendientes">12</div>
                        <div class="metric-label">Servicios Pendientes</div>
                    </div>
                </div>
            </div>
            
            <div class="row">
                <div class="col-md-12">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Resumen de Actividades Recientes</h5>
                        </div>
                        <div class="card-body">
                            <ul class="list-unstyled">
                                <li class="mb-2"><i class="fas fa-user-plus text-success"></i> Nuevo cliente registrado: Juan Pérez</li>
                                <li class="mb-2"><i class="fas fa-shopping-cart text-primary"></i> Venta realizada: iPhone 14 Pro - $2,500</li>
                                <li class="mb-2"><i class="fas fa-tools text-warning"></i> Servicio técnico asignado: Reparación MacBook</li>
                                <li class="mb-2"><i class="fas fa-box text-info"></i> Nuevo producto agregado: Apple Watch SE</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Ventas por Producto (Gráfico de Producto)</h5>
                        </div>
                        <div class="card-body">
                            <div id="products-bar-chart"></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card">
                        <div class="card-header">
                            <h5 class="mb-0">Distribución de Ventas (Gráfico de Ventas)</h5>
                        </div>
                        <div class="card-body">
                            <div id="products-pie-chart"></div>
                        </div>
                    </div>
                </div>
            </div>

        </div>
        
        <div id="clientes" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Clientes</h2>
                <button class="btn btn-primary create-btn" data-entity="clientes">
                    <i class="fas fa-plus"></i> Nuevo Cliente
                </button>
            </div>
            
            <div id="selectedInfo"></div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Lista de Clientes</h5>
                </div>
                <div class="card-body">
                    <table id="clientesTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Documento</th>
                                <th>Teléfono</th>
                                <th>Email</th>
                                <th>Dirección</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="productos" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Productos</h2>
                <button class="btn btn-primary create-btn" data-entity="productos">
                    <i class="fas fa-plus"></i> Nuevo Producto
                </button>
            </div>
            
            <div class="filter-section">
                <h6>Filtros</h6>
                <div class="row">
                    <div class="col-md-4">
                        <select id="marcaFilter" class="form-control">
                            <option value="">Todas las marcas</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <select id="tipoFilter" class="form-control">
                            <option value="">Todos los tipos</option>
                        </select>
                    </div>
                    <div class="col-md-4">
                        <input type="number" id="stockMinimo" class="form-control" placeholder="Stock mínimo">
                    </div>
                </div>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Inventario de Productos</h5>
                </div>
                <div class="card-body">
                    <table id="productosTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre</th>
                                <th>Modelo</th>
                                <th>Cantidad</th>
                                <th>Color</th>
                                <th>Tipo</th>
                                <th>Marca</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="marcas" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Marcas</h2>
                <button class="btn btn-primary create-btn" data-entity="marcas">
                    <i class="fas fa-plus"></i> Nueva Marca
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Catálogo de Marcas</h5>
                </div>
                <div class="card-body">
                    <table id="marcasTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Marca</th>
                                <th>Color</th>
                                <th>Descripción</th>
                                <th>Productos</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="proveedores" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Proveedores</h2>
                <button class="btn btn-primary create-btn" data-entity="proveedores">
                    <i class="fas fa-plus"></i> Nuevo Proveedor
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Lista de Proveedores</h5>
                </div>
                <div class="card-body">
                    <table id="proveedoresTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>NIT</th>
                                <th>Nombre</th>
                                <th>Cédula</th>
                                <th>Dirección</th>
                                <th>Teléfono</th>
                                <th>Compras</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="ventas" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Ventas</h2>
                <button class="btn btn-primary create-btn" data-entity="ventas">
                    <i class="fas fa-plus"></i> Nueva Venta
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Registro de Ventas</h5>
                </div>
                <div class="card-body">
                    <table id="ventasTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID Venta</th>
                                <th>Cliente</th>
                                <th>Cantidad</th>
                                <th>Valor Total</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="compras" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Compras</h2>
                <button class="btn btn-primary create-btn" data-entity="compras">
                    <i class="fas fa-plus"></i> Nueva Compra
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Registro de Compras de Mercancía</h5>
                </div>
                <div class="card-body">
                    <table id="comprasTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID Compra</th>
                                <th>Producto</th>
                                <th>Cantidad</th>
                                <th>Fecha</th>
                                <th>Proveedor</th>
                                <th>Precio</th>
                                <th>Administrador</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="tecnicos" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Técnicos</h2>
                <button class="btn btn-primary create-btn" data-entity="tecnicos">
                    <i class="fas fa-plus"></i> Nuevo Técnico
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Equipo de Técnicos</h5>
                </div>
                <div class="card-body">
                    <table id="tecnicosTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Nombre Completo</th>
                                <th>Documento</th>
                                <th>Teléfono</th>
                                <th>Email</th>
                                <th>Dirección</th>
                                <th>Tipo Técnico</th>
                                <th>Servicios</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="servicios" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Servicios Técnicos</h2>
                <button class="btn btn-primary create-btn" data-entity="servicios">
                    <i class="fas fa-plus"></i> Nuevo Servicio
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Registro de Servicios Técnicos</h5>
                </div>
                <div class="card-body">
                    <table id="serviciosTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Cliente</th>
                                <th>Técnico</th>
                                <th>N° Orden</th>
                                <th>Teléfono Cliente</th>
                                <th>Email Cliente</th>
                                <th>Estado</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="equipos" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Equipos</h2>
                <button class="btn btn-primary create-btn" data-entity="equipos">
                    <i class="fas fa-plus"></i> Nuevo Equipo
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Inventario de Equipos</h5>
                </div>
                <div class="card-body">
                    <table id="equiposTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID Equipo</th>
                                <th>Modelo</th>
                                <th>Clave</th>
                                <th>Cliente</th>
                                <th>Documento Cliente</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        
        <div id="facturacion" class="tab-content">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2>Gestión de Facturación</h2>
                <button class="btn btn-primary create-btn" data-entity="facturacion">
                    <i class="fas fa-plus"></i> Nueva Factura
                </button>
            </div>
            
            <div class="card">
                <div class="card-header">
                    <h5 class="mb-0">Registro de Facturación</h5>
                </div>
                <div class="card-body">
                    <table id="facturacionTable" class="table table-striped table-hover" style="width:100%">
                        <thead>
                            <tr>
                                <th>ID Recibo</th>
                                <th>Fecha Venta</th>
                                <th>ID Venta</th>
                                <th>Descripción</th>
                                <th>NIT DigitSoft</th>
                                <th>Garantía</th>
                                <th>Acciones</th>
                            </tr>
                        </thead>
                        <tbody>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="crudModal" tabindex="-1" aria-labelledby="crudModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="crudModalLabel"></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body">
                    <form id="crudForm"></form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cerrar</button>
                    <button type="button" class="btn btn-primary" id="saveBtn">Guardar</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Simulando datos del servidor
        let sampleData = {
            clientes: [
                { id: 1, documento: '12345678', telefono: '3001234567', email: 'juan@email.com', direccion: 'Calle 123 #45-67' },
                { id: 2, documento: '87654321', telefono: '3109876543', email: 'maria@email.com', direccion: 'Carrera 45 #12-34' },
                { id: 3, documento: '11223344', telefono: '3201122334', email: 'carlos@email.com', direccion: 'Avenida 67 #89-01' },
                { id: 4, documento: '55667788', telefono: '3155667788', email: 'ana@email.com', direccion: 'Calle 89 #23-45' },
                { id: 5, documento: '99887766', telefono: '3009988776', email: 'luis@email.com', direccion: 'Carrera 12 #34-56' }
            ],
            
            marcas: [
                { id: 1, marca: 'Apple', color: 'Blanco', descripcion: 'Productos Apple de alta gama', productos: 45 },
                { id: 2, marca: 'Samsung', color: 'Azul', descripcion: 'Electrónicos Samsung', productos: 32 },
                { id: 3, marca: 'Huawei', color: 'Rojo', descripcion: 'Dispositivos Huawei', productos: 28 },
                { id: 4, marca: 'Xiaomi', color: 'Naranja', descripcion: 'Productos Xiaomi', productos: 15 }
            ],
            
            productos: [
                { id: 1, nombre: 'iPhone 14 Pro', modelo: 'A2890', cantidad: 15, color: 'Azul Sierra', tipo: 'Smartphone', marca: 'Apple', estado: 'En Stock' },
                { id: 2, nombre: 'Galaxy S23', modelo: 'SM-S911B', cantidad: 8, color: 'Phantom Black', tipo: 'Smartphone', marca: 'Samsung', estado: 'Stock Bajo' },
                { id: 3, nombre: 'MacBook Air', modelo: 'M2', cantidad: 5, color: 'Space Gray', tipo: 'Laptop', marca: 'Apple', estado: 'Stock Bajo' },
                { id: 4, nombre: 'iPad Air', modelo: '5ta Gen', cantidad: 12, color: 'Rosa', tipo: 'Tablet', marca: 'Apple', estado: 'En Stock' },
                { id: 5, nombre: 'P50 Pro', modelo: 'JAD-AL50', cantidad: 3, color: 'Golden Black', tipo: 'Smartphone', marca: 'Huawei', estado: 'Crítico' }
            ],

            productosVentas: [
                { name: 'iPhone 14 Pro', value: 5000000 },
                { name: 'Galaxy S23', value: 3200000 },
                { name: 'MacBook Air', value: 2500000 },
                { name: 'iPad Air', value: 1800000 },
                { name: 'P50 Pro', value: 1500000 }
            ],
            
            proveedores: [
                { nit: '900123456-1', nombre: 'Tech Supply Co.', cedula: '12345678', direccion: 'Zona Industrial', telefono: '6011234567', compras: 25 },
                { nit: '800987654-2', nombre: 'Digital Imports', cedula: '87654321', direccion: 'Centro Empresarial', telefono: '6019876543', compras: 18 },
                { nit: '700456789-3', nombre: 'Mobile Solutions', cedula: '45678912', direccion: 'Distrito Tecnológico', telefono: '6014567891', compras: 12 }
            ],
            
            ventas: [
                { id: 1, cliente: 'Juan Pérez (12345678)', cantidad: 2, valor: 5000000, estado: 'Completada' },
                { id: 2, cliente: 'María García (87654321)', cantidad: 1, valor: 3200000, estado: 'Pendiente' },
                { id: 3, cliente: 'Carlos López (11223344)', cantidad: 3, valor: 1800000, estado: 'Completada' },
                { id: 4, cliente: 'Ana Rodríguez (55667788)', cantidad: 1, valor: 4500000, estado: 'En Proceso' }
            ],
            
            compras: [
                { id: 1, producto: 'iPhone 14 Pro', cantidad: 10, fecha: '2024-08-15', proveedor: 'Tech Supply Co.', precio: '$45,000,000', administrador: 'Admin Principal' },
                { id: 2, producto: 'Galaxy S23', cantidad: 15, fecha: '2024-08-12', proveedor: 'Digital Imports', precio: '$32,500,000', administrador: 'Admin Principal' },
                { id: 3, producto: 'MacBook Air', cantidad: 5, fecha: '2024-08-10', proveedor: 'Mobile Solutions', precio: '$28,000,000', administrador: 'Admin Principal' }
            ],
            
            tecnicos: [
                { id: 1, nombre: 'Roberto Martínez', documento: 98765432, telefono: '3201234567', email: 'roberto@digitsoft.com', direccion: 'Calle 45 #12-34', tipo: 'Senior', servicios: 15 },
                { id: 2, nombre: 'Sofía Hernández', documento: 87654321, telefono: '3109876543', email: 'sofia@digitsoft.com', direccion: 'Carrera 23 #56-78', tipo: 'Junior', servicios: 8 },
                { id: 3, nombre: 'Diego Ramírez', documento: 76543210, telefono: '3157654321', email: 'diego@digitsoft.com', direccion: 'Avenida 67 #89-01', tipo: 'Senior', servicios: 22 }
            ],
            
            servicios: [
                { id: 1, cliente: 'Juan Pérez', tecnico: 'Roberto Martínez', orden: 'ORD-001', telefono: '3001234567', email: 'juan@email.com', estado: 'En Proceso' },
                { id: 2, cliente: 'María García', tecnico: 'Sofía Hernández', orden: 'ORD-002', telefono: '3109876543', email: 'maria@email.com', estado: 'Pendiente' },
                { id: 3, cliente: 'Carlos López', tecnico: 'Diego Ramírez', orden: 'ORD-003', telefono: '3201122334', email: 'carlos@email.com', estado: 'Finalizado' }
            ],
            
            equipos: [
                { id: 1, modelo: 'MacBook Pro', clave: 'MP-2022-A', cliente: 'Juan Pérez', documento: '12345678' },
                { id: 2, modelo: 'HP Pavilion', clave: 'HP-2023-B', cliente: 'María García', documento: '87654321' },
                { id: 3, modelo: 'Lenovo ThinkPad', clave: 'LT-2024-C', cliente: 'Carlos López', documento: '11223344' }
            ],
            
            facturacion: [
                { id: 1, fecha: '2024-08-20', idVenta: 'V-001', descripcion: 'Venta de equipos', nitDigitSoft: '123456789-0', garantia: '12 meses' },
                { id: 2, fecha: '2024-08-18', idVenta: 'V-002', descripcion: 'Servicio técnico', nitDigitSoft: '123456789-0', garantia: '3 meses' },
                { id: 3, fecha: '2024-08-15', idVenta: 'V-003', descripcion: 'Venta de accesorios', nitDigitSoft: '123456789-0', garantia: '6 meses' }
            ]
        };

        $(document).ready(function() {
            // Function to format currency
            function formatCurrency(value) {
                return new Intl.NumberFormat('es-CO', { style: 'currency', currency: 'COP', minimumFractionDigits: 0 }).format(value);
            }
        
            // Function to initialize all DataTables
            function initializeDataTables() {
                $('#ventasTable').DataTable({
                    data: sampleData.ventas,
                    columns: [
                        { data: 'id', title: 'ID Venta' },
                        { data: 'cliente', title: 'Cliente' },
                        { data: 'cantidad', title: 'Cantidad' },
                        { data: 'valor', title: 'Valor Total', render: function(data) {
                            return formatCurrency(data);
                        }},
                        { data: 'estado', title: 'Estado', render: function(data) {
                            let badgeClass = '';
                            switch(data) {
                                case 'Completada': badgeClass = 'btn-success'; break;
                                case 'Pendiente': badgeClass = 'btn-warning'; break;
                                case 'En Proceso': badgeClass = 'btn-primary'; break;
                                default: badgeClass = 'btn-secondary';
                            }
                            return `<span class="badge ${badgeClass}">${data}</span>`;
                        }},
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="ventas"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="ventas"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    pagingType: 'full_numbers',
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#clientesTable').DataTable({
                    data: sampleData.clientes,
                    columns: [
                        { data: 'id', title: 'ID' },
                        { data: 'documento', title: 'Documento' },
                        { data: 'telefono', title: 'Teléfono' },
                        { data: 'email', title: 'Email' },
                        { data: 'direccion', title: 'Dirección' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="clientes"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="clientes"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#productosTable').DataTable({
                    data: sampleData.productos,
                    columns: [
                        { data: 'id', title: 'ID' },
                        { data: 'nombre', title: 'Nombre' },
                        { data: 'modelo', title: 'Modelo' },
                        { data: 'cantidad', title: 'Cantidad' },
                        { data: 'color', title: 'Color' },
                        { data: 'tipo', title: 'Tipo' },
                        { data: 'marca', title: 'Marca' },
                        { data: 'estado', title: 'Estado', render: function(data) {
                            let badgeClass = '';
                            switch(data) {
                                case 'En Stock': badgeClass = 'btn-success'; break;
                                case 'Stock Bajo': badgeClass = 'btn-warning'; break;
                                case 'Crítico': badgeClass = 'btn-danger'; break;
                                default: badgeClass = 'btn-secondary';
                            }
                            return `<span class="badge ${badgeClass}">${data}</span>`;
                        }},
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="productos"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="productos"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#marcasTable').DataTable({
                    data: sampleData.marcas,
                    columns: [
                        { data: 'id', title: 'ID' },
                        { data: 'marca', title: 'Marca' },
                        { data: 'color', title: 'Color' },
                        { data: 'descripcion', title: 'Descripción' },
                        { data: 'productos', title: 'Productos' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="marcas"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="marcas"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#proveedoresTable').DataTable({
                    data: sampleData.proveedores,
                    columns: [
                        { data: 'nit', title: 'NIT' },
                        { data: 'nombre', title: 'Nombre' },
                        { data: 'cedula', title: 'Cédula' },
                        { data: 'direccion', title: 'Dirección' },
                        { data: 'telefono', title: 'Teléfono' },
                        { data: 'compras', title: 'Compras' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.nit}" data-entity="proveedores"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.nit}" data-entity="proveedores"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#comprasTable').DataTable({
                    data: sampleData.compras,
                    columns: [
                        { data: 'id', title: 'ID Compra' },
                        { data: 'producto', title: 'Producto' },
                        { data: 'cantidad', title: 'Cantidad' },
                        { data: 'fecha', title: 'Fecha' },
                        { data: 'proveedor', title: 'Proveedor' },
                        { data: 'precio', title: 'Precio' },
                        { data: 'administrador', title: 'Administrador' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="compras"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="compras"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#tecnicosTable').DataTable({
                    data: sampleData.tecnicos,
                    columns: [
                        { data: 'id', title: 'ID' },
                        { data: 'nombre', title: 'Nombre Completo' },
                        { data: 'documento', title: 'Documento' },
                        { data: 'telefono', title: 'Teléfono' },
                        { data: 'email', title: 'Email' },
                        { data: 'direccion', title: 'Dirección' },
                        { data: 'tipo', title: 'Tipo Técnico' },
                        { data: 'servicios', title: 'Servicios' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="tecnicos"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="tecnicos"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#serviciosTable').DataTable({
                    data: sampleData.servicios,
                    columns: [
                        { data: 'id', title: 'ID' },
                        { data: 'cliente', title: 'Cliente' },
                        { data: 'tecnico', title: 'Técnico' },
                        { data: 'orden', title: 'N° Orden' },
                        { data: 'telefono', title: 'Teléfono Cliente' },
                        { data: 'email', title: 'Email Cliente' },
                        { data: 'estado', title: 'Estado', render: function(data) {
                            let badgeClass = '';
                            switch(data) {
                                case 'En Proceso': badgeClass = 'btn-primary'; break;
                                case 'Pendiente': badgeClass = 'btn-warning'; break;
                                case 'Finalizado': badgeClass = 'btn-success'; break;
                                default: badgeClass = 'btn-secondary';
                            }
                            return `<span class="badge ${badgeClass}">${data}</span>`;
                        }},
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="servicios"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="servicios"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#equiposTable').DataTable({
                    data: sampleData.equipos,
                    columns: [
                        { data: 'id', title: 'ID Equipo' },
                        { data: 'modelo', title: 'Modelo' },
                        { data: 'clave', title: 'Clave' },
                        { data: 'cliente', title: 'Cliente' },
                        { data: 'documento', title: 'Documento Cliente' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="equipos"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="equipos"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
        
                $('#facturacionTable').DataTable({
                    data: sampleData.facturacion,
                    columns: [
                        { data: 'id', title: 'ID Recibo' },
                        { data: 'fecha', title: 'Fecha Venta' },
                        { data: 'idVenta', title: 'ID Venta' },
                        { data: 'descripcion', title: 'Descripción' },
                        { data: 'nitDigitSoft', title: 'NIT DigitSoft' },
                        { data: 'garantia', title: 'Garantía' },
                        { data: null, title: 'Acciones', render: function(data) {
                            return `<button class="btn btn-sm btn-info edit-btn" data-id="${data.id}" data-entity="facturacion"><i class="fas fa-edit"></i></button>
                                    <button class="btn btn-sm btn-danger delete-btn" data-id="${data.id}" data-entity="facturacion"><i class="fas fa-trash-alt"></i></button>`;
                        }}
                    ],
                    language: { url: '//cdn.datatables.net/plug-ins/1.10.21/i18n/Spanish.json' }
                });
            }

            // Function to initialize ApexCharts
            function initializeCharts() {
                // Bar Chart
                const productsBarChartOptions = {
                    colors: ['#3b82f6'],
                    series: [{
                        name: 'Ventas',
                        data: sampleData.productosVentas.map(p => ({ x: p.name, y: p.value })),
                    }],
                    chart: {
                        type: 'bar',
                        height: 350,
                        fontFamily: 'Segoe UI, sans-serif',
                        background: '#252837',
                        foreColor: '#ffffff',
                        toolbar: {
                            show: false
                        }
                    },
                    plotOptions: {
                        bar: {
                            columnWidth: '80%',
                            borderRadius: 4
                        }
                    },
                    tooltip: {
                        theme: 'dark'
                    },
                    states: {
                        hover: {
                            filter: {
                                type: 'darken',
                                value: 1
                            }
                        }
                    },
                    grid: {
                        borderColor: '#374151',
                        strokeDashArray: 4,
                        xaxis: {
                            lines: {
                                show: false
                            }
                        },
                        yaxis: {
                            lines: {
                                show: true
                            }
                        }
                    },
                    dataLabels: {
                        enabled: false
                    },
                    legend: {
                        show: false
                    },
                    xaxis: {
                        labels: {
                            show: true,
                            style: {
                                colors: '#9ca3af'
                            }
                        },
                        axisBorder: {
                            show: false
                        },
                        axisTicks: {
                            show: false
                        },
                    },
                    yaxis: {
                        labels: {
                            formatter: function (value) {
                                return formatCurrency(value);
                            },
                            style: {
                                colors: '#9ca3af'
                            }
                        },
                    },
                    fill: {
                        opacity: 1
                    }
                };

                const productsBarChart = new ApexCharts(document.getElementById('products-bar-chart'), productsBarChartOptions);
                productsBarChart.render();

                // Pie Chart
                const productsPieChartOptions = {
                    series: sampleData.productosVentas.map(p => p.value),
                    labels: sampleData.productosVentas.map(p => p.name),
                    colors: ['#3b82f6', '#10b981', '#f59e0b', '#ef4444', '#8b5cf6'],
                    chart: {
                        type: 'donut',
                        height: 400,
                        fontFamily: 'Segoe UI, sans-serif',
                        background: '#252837',
                        foreColor: '#ffffff',
                        toolbar: {
                            show: false
                        }
                    },
                    responsive: [{
                        breakpoint: 430,
                        options: {
                            chart: {
                                height: 300
                            }
                        }
                    }],
                    stroke: {
                        colors: ['#252837']
                    },
                    states: {
                        hover: {
                            filter: {
                                type: 'darken',
                                value: 0.9
                            }
                        }
                    },
                    tooltip: {
                        theme: 'dark',
                        y: {
                            formatter: function (value) {
                                return formatCurrency(value);
                            }
                        }
                    },
                    grid: {
                        show: false
                    },
                    dataLabels: {
                        enabled: true,
                        formatter: function (val, opts) {
                            return opts.w.config.labels[opts.seriesIndex]
                        }
                    },
                    legend: {
                        show: false
                    },
                };

                const productsPieChart = new ApexCharts(document.getElementById('products-pie-chart'), productsPieChartOptions);
                productsPieChart.render();
            }
        
            // Initial call to set up the dashboard, tables, and charts
            initializeDataTables();
            initializeCharts();
        
            // Event listener for sidebar clicks
            $('.nav-link').on('click', function(e) {
                e.preventDefault();
                $('.nav-link').removeClass('active');
                $(this).addClass('active');
        
                $('.tab-content').removeClass('active');
                const tabId = $(this).data('tab');
                $(`#${tabId}`).addClass('active');
            });
        
            // Event listeners for CRUD buttons (example)
            $(document).on('click', '.create-btn', function() {
                const entity = $(this).data('entity');
                $('#crudModalLabel').text(`Crear Nuevo(a) ${entity}`);
                $('#crudForm').html('<p>Formulario para crear un nuevo registro de ' + entity + '</p>');
                $('#crudModal').modal('show');
            });
        
            $(document).on('click', '.edit-btn', function() {
                const entity = $(this).data('entity');
                const id = $(this).data('id');
                $('#crudModalLabel').text(`Editar ${entity} #${id}`);
                $('#crudForm').html('<p>Formulario para editar el registro de ' + entity + ' con ID ' + id + '</p>');
                $('#crudModal').modal('show');
            });
        
            $(document).on('click', '.delete-btn', function() {
                const entity = $(this).data('entity');
                const id = $(this).data('id');
                if (confirm(`¿Estás seguro de que deseas eliminar el registro de ${entity} con ID ${id}?`)) {
                    alert(`Registro de ${entity} con ID ${id} eliminado.`);
                    // Lógica para eliminar el registro del array `sampleData` y recargar la tabla
                }
            });
        
            // Example of a function that might be called on table row click
            // This could show more details in the #selectedInfo div
            $('table').on('click', 'tbody tr', function() {
                const table = $(this).closest('table').DataTable();
                const rowData = table.row(this).data();
                if (rowData) {
                    $('#selectedInfo').html('<h5>Detalles del Registro</h5><p>ID: ' + rowData.id + '</p><pre>' + JSON.stringify(rowData, null, 2) + '</pre>').slideDown();
                }
            });
        });
    </script>
</body>
</html>